<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PixConvert ‚Äî Convert images instantly. Free, private, no upload.</title>
<meta name="description" content="Convert images between PNG, JPG, WEBP, GIF, BMP and ICO instantly in your browser. Free, private, no server upload. Batch support included.">
<meta property="og:title" content="PixConvert ‚Äî Image Format Converter">
<meta property="og:description" content="Convert images instantly. Free, private, no upload. Supports PNG, JPG, WEBP, GIF, BMP, ICO.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://mack-moneymaker.github.io/pixconvert/">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="PixConvert ‚Äî Image Format Converter">
<meta name="twitter:description" content="Convert images instantly. Free, private, no upload. Supports PNG, JPG, WEBP, GIF, BMP, ICO.">
<meta name="keywords" content="image converter, png to webp, jpg to png, webp converter, image format converter, free image converter, browser image converter, private image converter, batch image converter">
<meta name="robots" content="index, follow">
<link rel="canonical" href="https://mack-moneymaker.github.io/pixconvert/">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "PixConvert",
  "url": "https://mack-moneymaker.github.io/pixconvert/",
  "description": "Convert images between PNG, JPG, WEBP, GIF, BMP and ICO instantly in your browser. Free, private, no server upload.",
  "applicationCategory": "MultimediaApplication",
  "operatingSystem": "Any",
  "offers": [
    {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD",
      "description": "Free tier ‚Äî up to 10 images per batch"
    },
    {
      "@type": "Offer",
      "price": "3.00",
      "priceCurrency": "USD",
      "description": "Pro tier ‚Äî unlimited batch conversion",
      "priceSpecification": {
        "@type": "UnitPriceSpecification",
        "billingDuration": "P1M"
      }
    }
  ],
  "featureList": ["PNG conversion", "JPG conversion", "WEBP conversion", "GIF conversion", "BMP conversion", "ICO generation", "Batch processing", "Image resizing", "Quality control", "ZIP download"],
  "browserRequirements": "Requires a modern browser with Canvas API support",
  "permissions": "none"
}
</script>
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect rx='18' width='100' height='100' fill='%236366f1'/><text x='50' y='72' font-size='62' font-weight='bold' font-family='system-ui' text-anchor='middle' fill='white'>P</text></svg>">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--bg:#0f172a;--surface:#1e293b;--surface2:#334155;--accent:#6366f1;--accent-hover:#818cf8;--text:#f1f5f9;--text2:#94a3b8;--border:#334155;--radius:12px;--gold:#f59e0b}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;background:var(--bg);color:var(--text);min-height:100vh;display:flex;flex-direction:column}
a{color:var(--accent);text-decoration:none}a:hover{color:var(--accent-hover)}
header{text-align:center;padding:2.5rem 1rem 1.5rem}
header h1{font-size:2rem;font-weight:700;letter-spacing:-.02em}
header h1 span{color:var(--accent)}
header p{color:var(--text2);margin-top:.4rem;font-size:.95rem}
.header-actions{display:flex;justify-content:center;gap:.75rem;margin-top:1rem}
.btn-star{display:inline-flex;align-items:center;gap:.4rem;padding:.45rem 1rem;border-radius:8px;border:1px solid var(--border);background:var(--surface);color:var(--text);font-size:.85rem;font-weight:600;cursor:pointer;transition:border-color .2s,background .2s;text-decoration:none}
.btn-star:hover{border-color:var(--gold);background:rgba(245,158,11,.08);color:var(--gold)}
main{flex:1;max-width:900px;width:100%;margin:0 auto;padding:0 1rem 3rem}
.drop-zone{border:2px dashed var(--border);border-radius:var(--radius);padding:3rem 1.5rem;text-align:center;cursor:pointer;transition:border-color .2s,background .2s;background:var(--surface);margin-bottom:1.5rem}
.drop-zone:hover,.drop-zone.drag{border-color:var(--accent);background:rgba(99,102,241,.08)}
.drop-zone svg{width:48px;height:48px;color:var(--text2);margin-bottom:.75rem}
.drop-zone p{color:var(--text2);font-size:.95rem}
.drop-zone p strong{color:var(--text)}
.controls{display:grid;grid-template-columns:1fr 1fr 1fr;gap:1rem;margin-bottom:1.5rem}
@media(max-width:640px){.controls{grid-template-columns:1fr}}
.control-group{background:var(--surface);border-radius:var(--radius);padding:1rem}
.control-group label{display:block;font-size:.8rem;color:var(--text2);margin-bottom:.5rem;text-transform:uppercase;letter-spacing:.05em;font-weight:600}
select,input[type=number]{width:100%;padding:.5rem .75rem;background:var(--surface2);border:1px solid var(--border);border-radius:8px;color:var(--text);font-size:.9rem;outline:none}
select:focus,input:focus{border-color:var(--accent)}
input[type=range]{width:100%;accent-color:var(--accent);margin-top:.25rem}
.quality-val{float:right;font-size:.85rem;color:var(--accent);font-weight:600}
.resize-row{display:flex;gap:.5rem;align-items:center}
.resize-row input{flex:1}
.resize-row span{color:var(--text2);font-size:.85rem}
.actions{display:flex;gap:1rem;margin-bottom:1.5rem;flex-wrap:wrap}
.btn{padding:.65rem 1.5rem;border-radius:8px;border:none;font-size:.9rem;font-weight:600;cursor:pointer;transition:background .2s,opacity .2s}
.btn-primary{background:var(--accent);color:#fff}.btn-primary:hover{background:var(--accent-hover)}
.btn-secondary{background:var(--surface2);color:var(--text)}.btn-secondary:hover{background:#475569}
.btn:disabled{opacity:.4;cursor:not-allowed}
.btn-zip{background:#059669;color:#fff}.btn-zip:hover{background:#10b981}
.file-list{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1rem}
.file-card{background:var(--surface);border-radius:var(--radius);overflow:hidden;position:relative}
.file-card img{width:100%;height:140px;object-fit:cover;display:block;background:var(--surface2)}
.file-card .info{padding:.75rem}
.file-card .name{font-size:.8rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:.35rem}
.file-card .meta{font-size:.75rem;color:var(--text2)}
.file-card .remove{position:absolute;top:6px;right:6px;width:24px;height:24px;border-radius:50%;background:rgba(0,0,0,.6);border:none;color:#fff;cursor:pointer;font-size:14px;display:flex;align-items:center;justify-content:center}
.file-card .download-single{display:block;margin-top:.5rem;text-align:center;padding:.35rem;background:var(--accent);color:#fff;border-radius:6px;font-size:.78rem;font-weight:600;cursor:pointer;border:none;width:100%}
.file-card .download-single:disabled{opacity:.4;cursor:not-allowed}
.file-card.converted{border:1px solid var(--accent)}
.batch-limit-msg{background:rgba(245,158,11,.1);border:1px solid rgba(245,158,11,.3);border-radius:var(--radius);padding:1rem 1.25rem;margin-bottom:1.5rem;display:flex;align-items:center;gap:.75rem;font-size:.9rem}
.batch-limit-msg .upgrade-link{color:var(--gold);font-weight:600;white-space:nowrap}
/* Pricing */
.pricing{max-width:900px;width:100%;margin:0 auto;padding:0 1rem 3rem}
.pricing h2{text-align:center;font-size:1.5rem;font-weight:700;margin-bottom:.5rem}
.pricing .subtitle{text-align:center;color:var(--text2);margin-bottom:2rem;font-size:.95rem}
.pricing-grid{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;margin-bottom:2rem}
@media(max-width:640px){.pricing-grid{grid-template-columns:1fr}}
.plan{background:var(--surface);border-radius:var(--radius);padding:2rem 1.5rem;position:relative}
.plan.pro{border:2px solid var(--accent)}
.plan-badge{position:absolute;top:-10px;right:16px;background:var(--accent);color:#fff;font-size:.7rem;font-weight:700;padding:.25rem .75rem;border-radius:20px;text-transform:uppercase;letter-spacing:.05em}
.plan h3{font-size:1.2rem;font-weight:700;margin-bottom:.25rem}
.plan .price{font-size:1.8rem;font-weight:700;margin-bottom:1rem}.plan .price span{font-size:.9rem;color:var(--text2);font-weight:400}
.plan ul{list-style:none;margin-bottom:1.5rem}
.plan ul li{padding:.35rem 0;font-size:.9rem;color:var(--text2)}
.plan ul li::before{content:'‚úì ';color:var(--accent);font-weight:700}
.plan .btn{width:100%;text-align:center;display:block}
/* FAQ */
.faq{max-width:900px;width:100%;margin:0 auto;padding:0 1rem 3rem}
.faq h2{text-align:center;font-size:1.5rem;font-weight:700;margin-bottom:1.5rem}
.faq-item{background:var(--surface);border-radius:var(--radius);margin-bottom:.75rem;overflow:hidden}
.faq-q{padding:1rem 1.25rem;cursor:pointer;font-weight:600;font-size:.95rem;display:flex;justify-content:space-between;align-items:center;user-select:none}
.faq-q::after{content:'+';font-size:1.2rem;color:var(--text2);transition:transform .2s}
.faq-item.open .faq-q::after{content:'‚àí'}
.faq-a{padding:0 1.25rem;max-height:0;overflow:hidden;transition:max-height .3s ease,padding .3s ease;color:var(--text2);font-size:.9rem;line-height:1.6}
.faq-item.open .faq-a{max-height:200px;padding:0 1.25rem 1rem}
footer{text-align:center;padding:2rem 1rem;color:var(--text2);font-size:.82rem;border-top:1px solid var(--border)}
footer .tools{display:flex;flex-wrap:wrap;justify-content:center;gap:.5rem 1.2rem;margin-bottom:.75rem}
footer .tools a{color:var(--text2);font-weight:500;font-size:.8rem}footer .tools a:hover{color:var(--accent)}
/* Features */
.features{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem;max-width:900px;margin:0 auto 1.5rem;padding:0 1rem}
@media(max-width:640px){.features{grid-template-columns:1fr 1fr}}
.feature{background:var(--surface);border-radius:var(--radius);padding:1.25rem 1rem;text-align:center;display:flex;flex-direction:column;gap:.35rem}
.feature-icon{font-size:1.5rem}
.feature strong{font-size:.9rem}
.feature-desc{font-size:.78rem;color:var(--text2);line-height:1.4}
/* Trust bar */
.trust-bar{display:flex;justify-content:center;flex-wrap:wrap;gap:.75rem 1.5rem;padding:.75rem 1rem;margin-bottom:1.5rem;font-size:.82rem;color:var(--text2)}
.hidden{display:none!important}
</style>
</head>
<body>
<header>
<h1><span>Pix</span>Convert</h1>
<p>Convert images instantly. Free, private, no upload.</p>
<div class="header-actions">
<a href="https://github.com/mack-moneymaker/pixconvert" target="_blank" class="btn-star">‚≠ê Star on GitHub</a>
<button class="btn-star" id="shareBtn" onclick="sharePixConvert()">üì§ Share</button>
</div>
</header>

<!-- Feature highlights -->
<section class="features">
<div class="feature"><span class="feature-icon">üîí</span><strong>100% Private</strong><span class="feature-desc">Images never leave your device. No server, no tracking.</span></div>
<div class="feature"><span class="feature-icon">‚ö°</span><strong>Instant Conversion</strong><span class="feature-desc">Client-side processing. No waiting for uploads.</span></div>
<div class="feature"><span class="feature-icon">üéØ</span><strong>6 Formats</strong><span class="feature-desc">PNG, JPG, WEBP, GIF, BMP, ICO ‚Äî all supported.</span></div>
<div class="feature"><span class="feature-icon">üì¶</span><strong>Batch + ZIP</strong><span class="feature-desc">Convert multiple files and download as ZIP.</span></div>
</section>

<!-- Trust signals -->
<div class="trust-bar">
<span>‚úÖ No sign-up required</span>
<span>‚úÖ Open source</span>
<span>‚úÖ Works offline</span>
<span>‚úÖ Zero data collection</span>
</div>

<main>
<div class="drop-zone" id="dropZone">
<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 16V4m0 0L8 8m4-4 4 4M4 17v2a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-2"/></svg>
<p><strong>Drop images here</strong> or click to browse</p>
<p style="font-size:.8rem;margin-top:.3rem">PNG, JPG, WEBP, GIF, BMP ‚Äî up to 10 files free</p>
<input type="file" id="fileInput" accept="image/*" multiple hidden>
</div>

<div id="batchLimitMsg" class="batch-limit-msg hidden">
<span>‚ö†Ô∏è Free tier is limited to 10 images per batch. Extra files were skipped.</span>
<a href="https://buy.stripe.com/pixconvert-pro" target="_blank" class="upgrade-link">Upgrade to Pro ‚Üí</a>
</div>

<div class="controls">
<div class="control-group">
<label>Output Format</label>
<select id="format">
<option value="png">PNG</option>
<option value="jpeg">JPG</option>
<option value="webp" selected>WEBP</option>
<option value="gif">GIF</option>
<option value="bmp">BMP</option>
<option value="x-icon">ICO (64√ó64)</option>
</select>
</div>
<div class="control-group" id="qualityGroup">
<label>Quality <span class="quality-val" id="qualityVal">92%</span></label>
<input type="range" id="quality" min="1" max="100" value="92">
</div>
<div class="control-group">
<label>Resize (optional)</label>
<div class="resize-row">
<input type="number" id="resizeW" placeholder="Width" min="1">
<span>√ó</span>
<input type="number" id="resizeH" placeholder="Height" min="1">
</div>
</div>
</div>

<div class="actions">
<button class="btn btn-primary" id="convertBtn" disabled>Convert All</button>
<button class="btn btn-zip" id="zipBtn" disabled>üì¶ Download All as ZIP</button>
<button class="btn btn-secondary" id="clearBtn" disabled>Clear All</button>
</div>

<div class="file-list" id="fileList"></div>
</main>

<!-- Pricing -->
<section class="pricing">
<h2>Simple Pricing</h2>
<p class="subtitle">Free forever for most users. Pro for power users.</p>
<div class="pricing-grid">
<div class="plan">
<h3>Free</h3>
<div class="price">$0<span>/forever</span></div>
<ul>
<li>Convert up to 10 images at once</li>
<li>All output formats (PNG, JPG, WEBP, GIF, BMP, ICO)</li>
<li>Resize & quality controls</li>
<li>Download individually or as ZIP</li>
<li>100% private ‚Äî nothing uploaded</li>
</ul>
<button class="btn btn-secondary" style="width:100%" disabled>Current Plan</button>
</div>
<div class="plan pro">
<div class="plan-badge">Popular</div>
<h3>Pro</h3>
<div class="price">$3<span>/month</span></div>
<ul>
<li>Unlimited batch conversion</li>
<li>HEIC/HEIF input support</li>
<li>No branding</li>
<li>Priority updates & features</li>
<li>Support indie development ‚ù§Ô∏è</li>
</ul>
<a href="https://buy.stripe.com/pixconvert-pro" target="_blank" class="btn btn-primary" style="width:100%;text-align:center;display:block;padding:.65rem 1.5rem">Get Pro ‚Üí</a>
</div>
</div>
</section>

<!-- FAQ -->
<section class="faq">
<h2>Frequently Asked Questions</h2>
<div class="faq-item">
<div class="faq-q">Is it really free?</div>
<div class="faq-a">Yes! PixConvert is free for up to 10 images per batch. Everything runs in your browser ‚Äî there are no servers to pay for. Pro is optional for power users who need unlimited batch sizes and extra features.</div>
</div>
<div class="faq-item">
<div class="faq-q">Are my images uploaded anywhere?</div>
<div class="faq-a">Never. All conversion happens locally in your browser using the Canvas API. Your images never leave your device. There's no server, no tracking, no analytics. Check the source code yourself ‚Äî it's open source.</div>
</div>
<div class="faq-item">
<div class="faq-q">What formats are supported?</div>
<div class="faq-a">Input: PNG, JPG, WEBP, GIF, BMP (and HEIC with Pro). Output: PNG, JPG, WEBP, GIF, BMP, and ICO (64√ó64). You can also resize images during conversion.</div>
</div>
<div class="faq-item">
<div class="faq-q">How does Pro work?</div>
<div class="faq-a">Pro unlocks unlimited batch conversion, HEIC input support, and removes branding. After subscribing via Stripe, you'll receive a license key to activate Pro features. You can cancel anytime.</div>
</div>
</section>

<footer>
<div class="tools">
<a href="https://mack-moneymaker.github.io/faviconify/">üé® Faviconify</a>
<a href="https://sigcraft.dev">‚úâÔ∏è SigCraft</a>
<a href="https://mack-moneymaker.github.io/gradientlab/">üåà GradientLab</a>
<a href="https://mack-moneymaker.github.io/colorcraft/">üé® ColorCraft</a>
<a href="https://mack-moneymaker.github.io/jsonpretty/">üìã JSONPretty</a>
<a href="https://mack-moneymaker.github.io/cronmaker/">‚è∞ CronMaker</a>
<a href="https://mack-moneymaker.github.io/regexlab/">üîç RegexLab</a>
</div>
<p>Made with ‚ù§Ô∏è ¬∑ 100% client-side ¬∑ Your images never leave your device ¬∑ <a href="https://github.com/mack-moneymaker/pixconvert">Open Source</a></p>
</footer>

<script>
const $ = s => document.querySelector(s);
const FREE_LIMIT = 10;
const dropZone = $('#dropZone'), fileInput = $('#fileInput'), fileList = $('#fileList');
const formatSel = $('#format'), qualitySlider = $('#quality'), qualityVal = $('#qualityVal');
const qualityGroup = $('#qualityGroup'), resizeW = $('#resizeW'), resizeH = $('#resizeH');
const convertBtn = $('#convertBtn'), clearBtn = $('#clearBtn'), zipBtn = $('#zipBtn');
const batchLimitMsg = $('#batchLimitMsg');

let files = [];

// Quality visibility
function updateQualityVis() {
  const f = formatSel.value;
  qualityGroup.style.opacity = (f === 'jpeg' || f === 'webp') ? '1' : '.4';
}
formatSel.addEventListener('change', updateQualityVis);
qualitySlider.addEventListener('input', () => qualityVal.textContent = qualitySlider.value + '%');
updateQualityVis();

// Aspect ratio linking
resizeW.addEventListener('input', () => {
  if (files.length === 0) return;
  const first = files[0];
  if (first.img && resizeW.value) {
    const ratio = first.img.naturalHeight / first.img.naturalWidth;
    resizeH.value = Math.round(resizeW.value * ratio);
  } else resizeH.value = '';
});
resizeH.addEventListener('input', () => {
  if (files.length === 0) return;
  const first = files[0];
  if (first.img && resizeH.value) {
    const ratio = first.img.naturalWidth / first.img.naturalHeight;
    resizeW.value = Math.round(resizeH.value * ratio);
  } else resizeW.value = '';
});

// Drop zone
dropZone.addEventListener('click', () => fileInput.click());
dropZone.addEventListener('dragover', e => { e.preventDefault(); dropZone.classList.add('drag'); });
dropZone.addEventListener('dragleave', () => dropZone.classList.remove('drag'));
dropZone.addEventListener('drop', e => { e.preventDefault(); dropZone.classList.remove('drag'); addFiles(e.dataTransfer.files); });
fileInput.addEventListener('change', () => { addFiles(fileInput.files); fileInput.value = ''; });

function addFiles(fl) {
  let skipped = false;
  for (const f of fl) {
    if (!f.type.startsWith('image/')) continue;
    if (files.length >= FREE_LIMIT) { skipped = true; continue; }
    const id = Date.now() + '-' + Math.random().toString(36).slice(2, 8);
    const entry = { id, file: f, img: null, converted: false, blob: null };
    files.push(entry);
    const img = new Image();
    img.onload = () => { entry.img = img; renderCard(entry); };
    img.src = URL.createObjectURL(f);
  }
  batchLimitMsg.classList.toggle('hidden', !skipped);
  updateButtons();
}

function renderCard(entry) {
  let card = document.getElementById('card-' + entry.id);
  if (!card) {
    card = document.createElement('div');
    card.className = 'file-card';
    card.id = 'card-' + entry.id;
    fileList.appendChild(card);
  }
  if (entry.converted) card.classList.add('converted');
  else card.classList.remove('converted');
  const ext = formatSel.value === 'jpeg' ? 'jpg' : formatSel.value === 'x-icon' ? 'ico' : formatSel.value;
  const sizeStr = entry.blob ? formatSize(entry.blob.size) : formatSize(entry.file.size);
  const dims = entry.img ? `${entry.img.naturalWidth}√ó${entry.img.naturalHeight}` : '';
  card.innerHTML = `
    <img src="${entry.converted && entry.blob ? URL.createObjectURL(entry.blob) : entry.img.src}" alt="">
    <button class="remove" data-id="${entry.id}">√ó</button>
    <div class="info">
      <div class="name">${entry.file.name}</div>
      <div class="meta">${dims} ¬∑ ${sizeStr}${entry.converted ? ' ¬∑ ‚úì Converted' : ''}</div>
      <button class="download-single" data-id="${entry.id}" ${entry.converted ? '' : 'disabled'}>Download .${ext}</button>
    </div>`;
}

function formatSize(b) {
  if (b < 1024) return b + ' B';
  if (b < 1048576) return (b / 1024).toFixed(1) + ' KB';
  return (b / 1048576).toFixed(1) + ' MB';
}

function updateButtons() {
  const hasFiles = files.length > 0;
  const hasConverted = files.some(f => f.converted);
  convertBtn.disabled = !hasFiles;
  clearBtn.disabled = !hasFiles;
  zipBtn.disabled = !hasConverted;
}

// Delegated events
fileList.addEventListener('click', e => {
  const rm = e.target.closest('.remove');
  if (rm) { removeFile(rm.dataset.id); return; }
  const dl = e.target.closest('.download-single');
  if (dl && !dl.disabled) downloadFile(dl.dataset.id);
});

function removeFile(id) {
  files = files.filter(f => f.id !== id);
  const card = document.getElementById('card-' + id);
  if (card) card.remove();
  if (files.length < FREE_LIMIT) batchLimitMsg.classList.add('hidden');
  updateButtons();
}

clearBtn.addEventListener('click', () => {
  files = [];
  fileList.innerHTML = '';
  batchLimitMsg.classList.add('hidden');
  updateButtons();
});

// Convert
convertBtn.addEventListener('click', async () => {
  convertBtn.disabled = true;
  convertBtn.textContent = 'Converting‚Ä¶';
  const fmt = formatSel.value;
  const q = qualitySlider.value / 100;
  const w = resizeW.value ? parseInt(resizeW.value) : 0;
  const h = resizeH.value ? parseInt(resizeH.value) : 0;

  for (const entry of files) {
    if (!entry.img) continue;
    const canvas = document.createElement('canvas');
    let cw = entry.img.naturalWidth, ch = entry.img.naturalHeight;
    if (w && h) { cw = w; ch = h; }
    else if (w) { ch = Math.round(ch * (w / cw)); cw = w; }
    else if (h) { cw = Math.round(cw * (h / ch)); ch = h; }
    if (fmt === 'x-icon') { cw = 64; ch = 64; }

    canvas.width = cw; canvas.height = ch;
    const ctx = canvas.getContext('2d');
    if (fmt === 'jpeg') { ctx.fillStyle = '#fff'; ctx.fillRect(0, 0, cw, ch); }
    ctx.drawImage(entry.img, 0, 0, cw, ch);

    const mime = fmt === 'x-icon' ? 'image/png' : `image/${fmt}`;
    const useQ = (fmt === 'jpeg' || fmt === 'webp') ? q : undefined;
    entry.blob = await new Promise(r => canvas.toBlob(r, mime, useQ));
    entry.converted = true;
    renderCard(entry);
  }
  convertBtn.textContent = 'Convert All';
  updateButtons();
});

function downloadFile(id) {
  const entry = files.find(f => f.id === id);
  if (!entry || !entry.blob) return;
  const fmt = formatSel.value;
  const ext = fmt === 'jpeg' ? 'jpg' : fmt === 'x-icon' ? 'ico' : fmt;
  const base = entry.file.name.replace(/\.[^.]+$/, '');
  const a = document.createElement('a');
  a.href = URL.createObjectURL(entry.blob);
  a.download = `${base}.${ext}`;
  a.click();
}

// Download All as ZIP (using JSZip from CDN)
zipBtn.addEventListener('click', async () => {
  const converted = files.filter(f => f.converted && f.blob);
  if (converted.length === 0) return;

  zipBtn.disabled = true;
  zipBtn.textContent = 'üì¶ Zipping‚Ä¶';

  // Lazy-load JSZip
  if (!window.JSZip) {
    await new Promise((resolve, reject) => {
      const s = document.createElement('script');
      s.src = 'https://cdn.jsdelivr.net/npm/jszip@3/dist/jszip.min.js';
      s.onload = resolve; s.onerror = reject;
      document.head.appendChild(s);
    });
  }

  const zip = new JSZip();
  const fmt = formatSel.value;
  const ext = fmt === 'jpeg' ? 'jpg' : fmt === 'x-icon' ? 'ico' : fmt;

  for (const entry of converted) {
    const base = entry.file.name.replace(/\.[^.]+$/, '');
    zip.file(`${base}.${ext}`, entry.blob);
  }

  const content = await zip.generateAsync({ type: 'blob' });
  const a = document.createElement('a');
  a.href = URL.createObjectURL(content);
  a.download = `pixconvert-${converted.length}files.zip`;
  a.click();

  zipBtn.textContent = 'üì¶ Download All as ZIP';
  updateButtons();
});

// Share
function sharePixConvert() {
  const data = { title: 'PixConvert', text: 'Convert images instantly ‚Äî free, private, no upload.', url: 'https://mack-moneymaker.github.io/pixconvert/' };
  if (navigator.share) { navigator.share(data).catch(() => {}); }
  else { navigator.clipboard.writeText(data.url).then(() => { const b = $('#shareBtn'); b.textContent = '‚úÖ Link copied!'; setTimeout(() => b.textContent = 'üì§ Share', 2000); }); }
}

// FAQ toggle
document.querySelectorAll('.faq-q').forEach(q => {
  q.addEventListener('click', () => q.parentElement.classList.toggle('open'));
});
</script>
</body>
</html>
